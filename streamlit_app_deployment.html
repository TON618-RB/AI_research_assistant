<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Deploy a Streamlit RAG App for Free (Streamlit Community Cloud)</title>
  <style>
    :root{
      --bg:#f7fbff;
      --card:#ffffff;
      --text:#0b1220;
      --muted:#4b5565;
      --border:rgba(15, 23, 42, .12);
      --shadow: 0 10px 30px rgba(2, 6, 23, .08);

      --blue1:#2563eb;
      --blue2:#06b6d4;
      --grad: linear-gradient(90deg, var(--blue1), var(--blue2));

      --codebg:#0b1220;
      --codefg:#e5e7eb;

      --ok:#16a34a;
      --warn:#b45309;
      --bad:#dc2626;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(900px 500px at 15% 0%, rgba(37, 99, 235, .10), transparent 70%),
        radial-gradient(900px 500px at 85% 10%, rgba(6, 182, 212, .12), transparent 70%),
        var(--bg);
      color:var(--text);
      line-height:1.55;
    }

    header{
      padding: 44px 18px 18px;
      max-width: 980px;
      margin: 0 auto;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:.5rem;
      font-size: 12px;
      padding: 6px 10px;
      background: rgba(37,99,235,.08);
      border: 1px solid rgba(37,99,235,.18);
      border-radius: 999px;
      color: #1d4ed8;
    }
    h1{
      margin: 14px 0 8px;
      font-size: clamp(28px, 3.2vw, 44px);
      letter-spacing:-0.02em;
    }
    .sub{
      margin: 0;
      color: var(--muted);
      max-width: 80ch;
      font-size: 15.5px;
    }

    main{
      max-width: 980px;
      margin: 0 auto;
      padding: 0 18px 60px;
      display: grid;
      grid-template-columns: 1fr; /* single panel only */
      gap: 16px;
    }

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .hd{
      padding: 16px 16px 10px;
      border-bottom: 1px solid rgba(15, 23, 42, .08);
      background: linear-gradient(180deg, rgba(37,99,235,.06), transparent);
    }
    .h2{
      margin:0 0 4px;
      font-size: 18px;
      font-weight: 760;
      background: var(--grad);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing:-0.01em;
    }
    .hd p{
      margin:0;
      color: var(--muted);
      font-size: 13.5px;
    }
    .bd{ padding: 16px; }

    .steps{
      display:flex;
      flex-direction:column;
      gap: 12px;
    }

    details{
      border: 1px solid rgba(15,23,42,.10);
      border-radius: 14px;
      background: #ffffff;
      overflow:hidden;
    }
    details[open]{
      border-color: rgba(37,99,235,.22);
      box-shadow: 0 8px 24px rgba(37,99,235,.08);
    }
    summary{
      list-style:none;
      cursor:pointer;
      padding: 14px 14px;
      display:flex;
      align-items:flex-start;
      gap: 10px;
      user-select:none;
    }
    summary::-webkit-details-marker{ display:none; }

    .n{
      width: 28px;
      height: 28px;
      border-radius: 10px;
      display:grid;
      place-items:center;
      font-weight: 800;
      color:#0b1220;
      background: rgba(6,182,212,.10);
      border: 1px solid rgba(6,182,212,.22);
      flex: 0 0 auto;
      margin-top: 2px;
    }
    .sumtxt{ flex:1; min-width:0; }
    .sumtxt b{ display:block; font-size: 15px; margin-bottom: 2px; }
    .sumtxt span{ display:block; color: var(--muted); font-size: 13px; }

    .panel{ padding: 0 14px 14px 14px; }

    .callout{
      border-left: 4px solid rgba(37,99,235,.55);
      background: rgba(37,99,235,.06);
      padding: 10px 12px;
      border-radius: 12px;
      margin: 10px 0;
    }
    .ok{ border-left-color: rgba(22,163,74,.65); background: rgba(22,163,74,.08); }
    .warn{ border-left-color: rgba(180,83,9,.65); background: rgba(180,83,9,.10); }
    .bad{ border-left-color: rgba(220,38,38,.65); background: rgba(220,38,38,.08); }

    .kvs{
      display:grid;
      grid-template-columns: 160px 1fr;
      gap: 8px 10px;
      padding: 10px 0 0;
    }
    .kvs div{
      padding: 6px 10px;
      border:1px solid rgba(15,23,42,.10);
      border-radius: 12px;
      background: rgba(2,6,23,.02);
      font-size: 13.5px;
    }
    .kvs .k{ color: var(--muted); font-weight: 700; background: rgba(2,6,23,.01); }

    pre{
      margin: 10px 0 0;
      padding: 12px 12px;
      border-radius: 14px;
      background: var(--codebg);
      color: var(--codefg);
      overflow:auto;
      border: 1px solid rgba(148, 163, 184, .18);
    }
    code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    .mini{ font-size: 12.5px; color: var(--muted); margin-top: 8px; }

    .btnrow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 12px;
    }
    button{
      appearance:none;
      border:1px solid rgba(15,23,42,.12);
      background:#fff;
      border-radius: 12px;
      padding: 10px 12px;
      cursor:pointer;
      font-weight: 700;
      color:#0b1220;
    }
    button.primary{
      border-color: rgba(37,99,235,.25);
      background: linear-gradient(180deg, rgba(37,99,235,.10), rgba(6,182,212,.08));
    }
    button:hover{ transform: translateY(-1px); box-shadow: 0 10px 20px rgba(2,6,23,.06); }

    footer{
      max-width: 980px;
      margin: 0 auto;
      padding: 18px;
      color: var(--muted);
      font-size: 13px;
    }
    .ref{ font-size: 12px; color: var(--muted); }
    .ref a{ color:#1d4ed8; text-decoration:none; }
    .ref a:hover{ text-decoration:underline; }
  </style>
</head>

<body>
<header>
  <div class="badge">Free deployment tutorial • Streamlit Community Cloud </div>
  <h1>Deploy your Streamlit RAG app for free</h1>
  <p class="sub">
    Follow these steps to deploy a Streamlit app on <b>Streamlit Community Cloud</b>:
    GitHub repo → dependencies → secrets (API keys) → deploy → debug → updates.
  </p>
</header>

<main>
  <section class="card">
    <div class="hd">
      <h2 class="h2">Step-by-step checklist (single panel)</h2>
      <p>No right-side panel, no quick navigation—just the full tutorial.</p>
    </div>

    <div class="bd">
      <div class="steps" id="steps">

        <details open id="s0">
          <summary>
            <div class="n">0</div>
            <div class="sumtxt">
              <b>Understand what Community Cloud expects</b>
              <span>Your app must be in a GitHub repo with a Python entry file and dependency files.</span>
            </div>
          </summary>
          <div class="panel">
            <div class="callout">
              Streamlit Community Cloud deploys your app directly from a <b>GitHub repository</b> and runs the Python file you select as the “entrypoint”. It installs packages using your dependency file (commonly <code>requirements.txt</code>).
            </div>
            <div class="kvs">
              <div class="k">You need</div><div>A GitHub account + a repo (public is simplest for free).</div>
              <div class="k">You choose</div><div>Repository + branch + entry file path during deployment.</div>
              <div class="k">It installs</div><div>Dependencies from <code>requirements.txt</code> (and related supported files).</div>
            </div>
            <p class="mini ref">
              Official docs:
              <a href="https://docs.streamlit.io/deploy/streamlit-community-cloud/deploy-your-app/deploy" target="_blank" rel="noreferrer">Deploy</a>,
              <a href="https://docs.streamlit.io/deploy/streamlit-community-cloud/deploy-your-app/app-dependencies" target="_blank" rel="noreferrer">App dependencies</a>.
            </p>
          </div>
        </details>

        <details id="s1">
          <summary>
            <div class="n">1</div>
            <div class="sumtxt">
              <b>Create a clean project folder</b>
              <span>Keep only what the app needs; avoid huge files in Git.</span>
            </div>
          </summary>
          <div class="panel">
            <p>Create a folder like <code>streamlit-rag-app/</code> and put your Streamlit app file inside.</p>
            <div class="callout ok">
              <b>Minimum recommended structure</b>
              <pre><code>streamlit-rag-app/
  ai_research_assistant.py
  requirements.txt
  README.md
  .gitignore</code></pre>
            </div>
            <div class="callout warn">
              <b>About your RAG files (data folder)</b><br />
              RAG apps often create files at runtime (downloaded PDFs, embeddings, FAISS index). On free hosting, apps can restart and those files may not persist. For classroom demos, consider prebuilding a small index or re-building on demand with clear UI.
            </div>
          </div>
        </details>

        <details id="s2">
          <summary>
            <div class="n">2</div>
            <div class="sumtxt">
              <b>Initialize Git and push to GitHub</b>
              <span>Community Cloud reads code from your repo, not your laptop.</span>
            </div>
          </summary>
          <div class="panel">
            <ol>
              <li>Create a new GitHub repository.</li>
              <li>In your project folder, run:</li>
            </ol>
            <pre><code>git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/&lt;your-username&gt;/&lt;repo-name&gt;.git
git push -u origin main</code></pre>
            <div class="callout">
              Later updates are just: edit → commit → push. Your deployed app can redeploy from the latest commit.
            </div>
          </div>
        </details>

        <details id="s3">
          <summary>
            <div class="n">3</div>
            <div class="sumtxt">
              <b>Create <code>requirements.txt</code> (Python dependencies)</b>
              <span>Cloud will install exactly what your app imports.</span>
            </div>
          </summary>
          <div class="panel">
            <div class="callout">
              Community Cloud installs packages using your dependency file (commonly <code>requirements.txt</code>). If you deploy without <code>requirements.txt</code>, you’ll only have Streamlit and its dependencies available.
            </div>
            <div class="callout ok">
              <b>Starter template (edit to match your code)</b>
              <pre><code>streamlit
arxiv
python-dotenv
openai
pymupdf
tiktoken
pandas
tqdm
sentence-transformers
numpy
faiss-cpu</code></pre>
            </div>
            <div class="callout warn">
              <b>If the build fails</b><br/>
              Some packages (PDF tooling, FAISS) may need version pinning. Fix <code>requirements.txt</code>, commit, push, and redeploy.
            </div>
            <p class="mini ref">
              Official docs: <a href="https://docs.streamlit.io/deploy/streamlit-community-cloud/deploy-your-app/app-dependencies" target="_blank" rel="noreferrer">App dependencies</a>.
            </p>
          </div>
        </details>

        <details id="s4">
          <summary>
            <div class="n">4</div>
            <div class="sumtxt">
              <b>Set secrets (API keys) the right way</b>
              <span>Never commit your API keys to GitHub.</span>
            </div>
          </summary>
          <div class="panel">
            <div class="callout bad">
              <b>Never</b> paste API keys into your code, README, or GitHub commits. If you leaked a key, rotate it immediately.
            </div>

            <p>Streamlit Community Cloud provides a secrets interface: you paste the contents of your local <code>.streamlit/secrets.toml</code> into “Advanced settings”.</p>

            <div class="callout ok">
              <b>What to paste into Community Cloud secrets</b>
              <pre><code>GEMINI_API_KEY = "YOUR_KEY_HERE"</code></pre>
            </div>

            <div class="callout">
              <b>How your app reads secrets</b><br/>
              In code, you can access secrets using <code>st.secrets</code>. For local development, you can store the same values in <code>.streamlit/secrets.toml</code> (but do not commit it).
            </div>

            <p class="mini ref">
              Official docs: <a href="https://docs.streamlit.io/deploy/streamlit-community-cloud/deploy-your-app/secrets-management" target="_blank" rel="noreferrer">Secrets management</a>.
            </p>
          </div>
        </details>

        <details id="s5">
          <summary>
            <div class="n">5</div>
            <div class="sumtxt">
              <b>Deploy on Streamlit Community Cloud</b>
              <span>Select repo + branch + entry file and click Deploy.</span>
            </div>
          </summary>
          <div class="panel">
            <ol>
              <li>Go to Streamlit Community Cloud and sign in with GitHub.</li>
              <li>Click <b>Create app</b>.</li>
              <li>Select your GitHub <b>repository</b>, the <b>branch</b> (usually <code>main</code>), and the <b>entrypoint file</b> (for example <code>ai_research_assistant.py</code>).</li>
              <li>Open “Advanced settings” and paste your secrets.</li>
              <li>Click <b>Deploy</b>.</li>
            </ol>
            <div class="callout ok">
              The platform builds the environment, installs packages, and starts your app. Most apps deploy in a few minutes.
            </div>
            <p class="mini ref">
              Official docs: <a href="https://docs.streamlit.io/deploy/streamlit-community-cloud/deploy-your-app/deploy" target="_blank" rel="noreferrer">Deploy your app</a>.
            </p>
          </div>
        </details>

        <details id="s6">
          <summary>
            <div class="n">6</div>
            <div class="sumtxt">
              <b>Test the deployed app (like a real user)</b>
              <span>Try core features, refresh, and restart behavior.</span>
            </div>
          </summary>
          <div class="panel">
            <ol>
              <li>Open the public <code>.streamlit.app</code> link.</li>
              <li>Test the full flow (build data if your app supports it, then query/chat).</li>
              <li>Refresh the page and verify behavior after reloads (some free hosts can restart apps).</li>
            </ol>
            <div class="callout warn">
              If your app downloads many PDFs or builds embeddings at runtime, it can be slow on free hosting. For college demos, keep the dataset small and the UI clear.
            </div>
          </div>
        </details>

        <details id="s7">
          <summary>
            <div class="n">7</div>
            <div class="sumtxt">
              <b>Debug common deployment errors</b>
              <span>Read logs → fix → commit → push → redeploy.</span>
            </div>
          </summary>
          <div class="panel">
            <p>If the app shows an error, open the app’s settings and check the <b>server logs</b>.</p>
            <div class="callout">
              <b>Typical fixes</b>
              <ul>
                <li>Add missing packages to <code>requirements.txt</code>.</li>
                <li>Pin package versions when builds break.</li>
                <li>Move all API keys into secrets management; remove them from commits.</li>
                <li>Reduce runtime workload (smaller dataset, caching, prebuilt index).</li>
              </ul>
            </div>
          </div>
        </details>

        <details id="s8">
          <summary>
            <div class="n">8</div>
            <div class="sumtxt">
              <b>Update your app later (redeploy)</b>
              <span>Push to GitHub and your app updates.</span>
            </div>
          </summary>
          <div class="panel">
            <p>Edit locally, then:</p>
            <pre><code>git add .
git commit -m "Update: improved UI"
git push</code></pre>
            <div class="callout ok">
              Your app can redeploy from the latest commit; your app URL stays the same.
            </div>
          </div>
        </details>

      </div>

      <div class="btnrow">
        <button class="primary" id="openAll">Open all steps</button>
        <button id="closeAll">Close all steps</button>
        <button id="copyReq">Copy sample requirements.txt</button>
      </div>

      <p class="mini ref" style="margin-top:10px;">
        Official references:
        <a href="https://docs.streamlit.io/deploy/streamlit-community-cloud/deploy-your-app/deploy" target="_blank" rel="noreferrer">Deploy</a> •
        <a href="https://docs.streamlit.io/deploy/streamlit-community-cloud/deploy-your-app/app-dependencies" target="_blank" rel="noreferrer">Dependencies</a> •
        <a href="https://docs.streamlit.io/deploy/streamlit-community-cloud/deploy-your-app/secrets-management" target="_blank" rel="noreferrer">Secrets</a>
      </p>
    </div>
  </section>
</main>

<footer>
  <div>Self-contained HTML tutorial. Light theme. Bluish gradient headings.</div>
</footer>

<script>
  const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

  function setAll(open){
    $$('details').forEach(d => d.open = open);
  }

  document.getElementById('openAll').addEventListener('click', () => setAll(true));
  document.getElementById('closeAll').addEventListener('click', () => setAll(false));

  const sampleReq = `streamlit
arxiv
python-dotenv
openai
pymupdf
tiktoken
pandas
tqdm
sentence-transformers
numpy
faiss-cpu
`;

  document.getElementById('copyReq').addEventListener('click', async () => {
    try{
      await navigator.clipboard.writeText(sampleReq);
      alert('Copied sample requirements.txt to clipboard.');
    } catch(e){
      const ta = document.createElement('textarea');
      ta.value = sampleReq;
      document.body.appendChild(ta);
      ta.select();
      document.execCommand('copy');
      ta.remove();
      alert('Copied sample requirements.txt to clipboard (fallback).');
    }
  });
</script>
</body>
</html>
